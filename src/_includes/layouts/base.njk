<!DOCTYPE html>
<html lang="{{ lang }}" dir="{{ translations.dir or 'ltr' }}">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">

    {# Page Title #}
    <title>{{ title }}{{ site.seo.titleSeparator }}{{ site.name }}</title>

    {# Meta Description #}
    <meta name="description" content="{{ description or translations.meta.defaultDescription }}">
    <meta name="keywords" content="{{ keywords or translations.meta.keywords }}">

    {# Canonical URL #}
    <link rel="canonical" href="{{ site.url }}{{ page.url }}">

    {# Hreflang Tags for Multi-language SEO #}
    {% if lang == 'tr' %}
    <link rel="alternate" hreflang="tr" href="{{ site.url }}{{ page.url }}">
    <link rel="alternate" hreflang="en" href="{{ site.url }}/en{{ page.url | replace('/tr', '') }}">
    <link rel="alternate" hreflang="x-default" href="{{ site.url }}{{ page.url }}">
    {% else %}
    <link rel="alternate" hreflang="en" href="{{ site.url }}{{ page.url }}">
    <link rel="alternate" hreflang="tr" href="{{ site.url }}{{ page.url | replace('/en', '') | replace('//', '/') }}">
    <link rel="alternate" hreflang="x-default" href="{{ site.url }}{{ page.url | replace('/en', '') | replace('//', '/') }}">
    {% endif %}

    {# Open Graph Meta Tags #}
    <meta property="og:title" content="{{ title }}{{ site.seo.titleSeparator }}{{ site.name }}">
    <meta property="og:description" content="{{ description or translations.meta.defaultDescription }}">
    <meta property="og:type" content="website">
    <meta property="og:url" content="{{ site.url }}{{ page.url }}">
    <meta property="og:image" content="{{ ogImage or site.url ~ site.seo.defaultImage }}">
    <meta property="og:locale" content="{{ translations.locale }}">
    <meta property="og:site_name" content="{{ site.name }}">

    {# Twitter Card Meta Tags #}
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:site" content="{{ site.seo.twitterHandle }}">
    <meta name="twitter:title" content="{{ title }}{{ site.seo.titleSeparator }}{{ site.name }}">
    <meta name="twitter:description" content="{{ description or translations.meta.defaultDescription }}">
    <meta name="twitter:image" content="{{ ogImage or site.url ~ site.seo.defaultImage }}">

    {# Favicon #}
    <link rel="icon" type="image/x-icon" href="{{ site.favicon or '/assets/images/favicon.ico' }}">
    <link rel="apple-touch-icon" sizes="180x180" href="/assets/images/apple-touch-icon.png">

    {# Preconnect for performance #}
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>

    {# Google Fonts - Inter #}
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&display=swap" rel="stylesheet">

    {# Tailwind CSS via CDN (for development) #}
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        'primary': {
                            DEFAULT: '#1e40af',
                            50: '#eff6ff',
                            100: '#dbeafe',
                            200: '#bfdbfe',
                            300: '#93c5fd',
                            400: '#60a5fa',
                            500: '#3b82f6',
                            600: '#2563eb',
                            700: '#1d4ed8',
                            800: '#1e40af',
                            900: '#1e3a8a',
                        },
                        'accent': {
                            DEFAULT: '#10b981',
                            green: '#10b981',
                        },
                        'dark': {
                            DEFAULT: '#0f172a',
                            700: '#334155',
                            800: '#1e293b',
                            900: '#0f172a',
                        }
                    },
                    fontFamily: {
                        'sans': ['Inter', 'system-ui', 'sans-serif'],
                    }
                }
            }
        }
    </script>

    {# Custom Styles #}
    <link rel="stylesheet" href="/assets/css/styles.css">

    {# Additional head content from pages #}
    {% block head %}{% endblock %}
</head>
<body class="bg-white text-gray-900 antialiased font-sans">
    {# Skip to main content for accessibility #}
    <a href="#main-content" class="sr-only focus:not-sr-only focus:absolute focus:top-4 focus:left-4 bg-primary text-white px-4 py-2 rounded z-50">
        {% if lang == 'tr' %}Ana içeriğe geç{% else %}Skip to main content{% endif %}
    </a>

    {# Header / Navigation #}
    {% include "components/header.njk" %}

    {# Main Content #}
    <main id="main-content">
        {% block content %}
        {{ content | safe }}
        {% endblock %}
    </main>

    {# Footer #}
    {% include "components/footer.njk" %}

    {# Main JavaScript #}
    <script src="/assets/js/main.js" defer></script>

    {# Additional scripts from pages #}
    {% block scripts %}{% endblock %}
</body>
</html>
